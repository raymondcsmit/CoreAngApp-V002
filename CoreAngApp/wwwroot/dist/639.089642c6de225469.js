"use strict";(self.webpackChunkngx_admin=self.webpackChunkngx_admin||[]).push([[639],{1875:(Q,C,i)=>{i.r(C),i.d(C,{CompBuilderModule:()=>z});var h=i(6895),o=i(4650),l=i(4006);const y_forms=[{title:"My Form",name:"myform",displayedColumns:["field1","field2","field3"],fields:[{name:"field1",type:"text",label:"Field 1",required:!0,options:[]},{name:"field2",type:"textarea",label:"Field 2",required:!1,options:[]},{name:"field3",type:"select",label:"Field 3",required:!0,options:[{label:"Option 1",value:"1"},{label:"Option 2",value:"2"},{label:"Option 3",value:"3"}]}]}];let c=(()=>{class e{constructor(t){this.fb=t,this.configuration=y_forms[0],this.formName="defaultname",this.unique_key=0,this.form=this.fb.group({})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(l.qu))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-base"]],decls:2,vars:0,template:function(t,n){1&t&&(o.TgZ(0,"p"),o._uU(1,"Base Component"),o.qZA())},encapsulation:2}),e})();var g=i(6897),u=i(784),x=i(529);function F(e,s){1&e&&(o.TgZ(0,"div"),o._uU(1,"Loading..."),o.qZA())}function Z(e,s){if(1&e&&(o.TgZ(0,"div"),o._uU(1),o.ALo(2,"async"),o.qZA()),2&e){const t=o.oxw();o.xp6(1),o.hij("Error: ",o.lcZ(2,1,t.error$),"")}}function T(e,s){if(1&e&&o._UZ(0,"input",7),2&e){const t=o.oxw().$implicit;o.Q6J("type",t.type)("formControlName",t.name)}}function M(e,s){if(1&e&&o._UZ(0,"textarea",8),2&e){const t=o.oxw().$implicit;o.Q6J("formControlName",t.name)}}function A(e,s){if(1&e&&(o.TgZ(0,"option",10),o._uU(1),o.qZA()),2&e){const t=s.$implicit;o.Q6J("value",t.value),o.xp6(1),o.hij(" ",t.label," ")}}function J(e,s){if(1&e&&(o.TgZ(0,"select",8),o.YNc(1,A,2,2,"option",9),o.qZA()),2&e){const t=o.oxw().$implicit;o.Q6J("formControlName",t.name),o.xp6(1),o.Q6J("ngForOf",t.options)}}function N(e,s){if(1&e&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&e){const t=o.oxw(2).$implicit;o.xp6(1),o.hij(" ",t.label," is required. ")}}function Y(e,s){if(1&e&&(o.TgZ(0,"div"),o.YNc(1,N,2,1,"div",1),o.qZA()),2&e){const t=o.oxw().$implicit,n=o.oxw();let a;o.xp6(1),o.Q6J("ngIf",null==(a=n.form.get(t.name))?null:a.errors.required)}}function O(e,s){if(1&e&&(o.TgZ(0,"div")(1,"label",3),o._uU(2),o.qZA(),o.TgZ(3,"div",4),o.YNc(4,T,1,2,"input",5),o.YNc(5,M,1,1,"textarea",6),o.YNc(6,J,2,2,"select",6),o.qZA(),o.YNc(7,Y,2,1,"div",1),o.qZA()),2&e){const t=s.$implicit,n=o.oxw();let a;o.xp6(1),o.Q6J("for",t.name),o.xp6(1),o.Oqu(t.label),o.xp6(1),o.Q6J("ngSwitch",t.type),o.xp6(1),o.Q6J("ngSwitchCase","text"),o.xp6(1),o.Q6J("ngSwitchCase","textarea"),o.xp6(1),o.Q6J("ngSwitchCase","select"),o.xp6(1),o.Q6J("ngIf",(null==(a=n.form.get(t.name))?null:a.invalid)&&((null==(a=n.form.get(t.name))?null:a.dirty)||(null==(a=n.form.get(t.name))?null:a.touched)))}}let r=(()=>{class e extends c{constructor(t,n,a){super(t),this.http=n,this.store=a,this.key=this.configuration?.name}ngOnInit(){this.store.dispatch((0,u.Dr)({key:this.key})),this.loading$=this.store.pipe((0,g.Ys)((0,u.gB)(this.key))),this.error$=this.store.pipe((0,g.Ys)((0,u.Ry)(this.key))),this.store.pipe((0,g.Ys)((0,u.su)(this.key))).subscribe(t=>{this.form=this.createForm(t[0])})}createForm(t){const n={};if(this.configuration?.fields){for(const d of this.configuration.fields)n[d.name]=new l.NI("",this.getValidators(d));const a=new l.cw(n);return t&&a.patchValue(t),a}return this.form}onSubmit(){const t=this.form.value;this.store.dispatch(t.id?(0,u.Fz)({key:this.key,id:t.id,payload:t}):(0,u.x1)({key:this.key,payload:t}))}onDelete(t){this.store.dispatch((0,u.Y6)({key:this.key,id:t,payload:{idx:t}}))}getValidators(t){const n=[];return t.required&&n.push(l.kI.required),n}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(l.qu),o.Y36(x.eN),o.Y36(g.yh))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-form"]],inputs:{key:"key"},features:[o.qOj],decls:8,vars:9,consts:[[3,"formGroup","ngSubmit"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"for"],[3,"ngSwitch"],[3,"type","formControlName",4,"ngSwitchCase"],[3,"formControlName",4,"ngSwitchCase"],[3,"type","formControlName"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,n){1&t&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return n.onSubmit()}),o.YNc(1,F,2,0,"div",1),o.ALo(2,"async"),o.YNc(3,Z,3,3,"div",1),o.ALo(4,"async"),o.TgZ(5,"h3"),o._uU(6),o.qZA(),o.YNc(7,O,8,7,"div",2),o.qZA()),2&t&&(o.Q6J("formGroup",n.form),o.xp6(1),o.Q6J("ngIf",o.lcZ(2,5,n.loading$)),o.xp6(2),o.Q6J("ngIf",o.lcZ(4,7,n.error$)),o.xp6(3),o.Oqu(n.configuration.title),o.xp6(1),o.Q6J("ngForOf",n.configuration.fields))},dependencies:[h.sg,h.O5,h.RF,h.n9,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.sg,l.u,h.Ov],encapsulation:2}),e})();var p=i(5715),f=i(457),B=i(3900),j=i(4004);let R=(()=>{class e{constructor(){}getConfigData(){return(0,f.D)(fetch("./assets/formconfig.json")).pipe((0,B.w)(t=>t.json()),(0,j.U)(t=>{const n=[];return t.forms.forEach(d=>{const m=[];d?.fields?.forEach(v=>{const E=v?.options?.map(S=>({label:S.label,value:S.value}));m.push({name:v.name,type:v.type,label:v.label,required:v.required,options:E})}),n.push({title:d.title,name:d.name,fields:m})}),{Application:t.Application,forms:n}}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const I=["genComponent"];function D(e,s){}let U=(()=>{class e{constructor(t,n,a){this.cdRef=t,this.route=n,this.configsrv=a,this.formComponents={}}ngOnInit(){}ngAfterViewInit(){this.route.paramMap.subscribe(t=>{const n=t.get("formname");this.configsrv.getConfigData().subscribe(a=>{const d=a.forms.find(m=>m.name===n);if(d){let m=this.formComponents[n];m?(m.instance.configuration=d,m.instance.formData=this.data):(m=this.genComponent.createComponent(r),m.instance.configuration=d,m.instance.formName=d.name,m.instance.formData=this.data,this.formComponents[n]=m);for(const[b,v]of Object.entries(this.formComponents))b!==n&&(v.location.nativeElement.style.display="none");m.location.nativeElement.style.display="block"}else{let m=this.formComponents[n];m&&(m.location.nativeElement.style.display="none",delete this.formComponents[n])}this.cdRef.detectChanges()})})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(p.gz),o.Y36(R))},e.\u0275cmp=o.Xpm({type:e,selectors:[["wrdynamic-component"]],viewQuery:function(t,n){if(1&t&&o.Gf(I,5,o.s_b),2&t){let a;o.iGM(a=o.CRH())&&(n.genComponent=a.first)}},inputs:{data:"data"},decls:2,vars:0,consts:[["genComponent",""]],template:function(t,n){1&t&&o.YNc(0,D,0,0,"ng-template",null,0,o.W1O)},encapsulation:2}),e})();var $=i(9173),V=i(749);const w=[{path:"",component:U}];let z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[h.ez,$.I,V.m,l.UX,p.Bz.forChild(w)]}),e})()},2639:(Q,C,i)=>{i.r(C),i.d(C,{DashboardModule:()=>O});var h=i(1875),o=i(749),l=i(5715),y=i(2858),c=i(4650);let g=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(f){return new(f||r)},r.\u0275cmp=c.Xpm({type:r,selectors:[["app-home"]],decls:2,vars:0,template:function(f,B){1&f&&(c.TgZ(0,"h3"),c._uU(1,"HOME"),c.qZA())}}),r})();const u=[{path:"",component:y.M,children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:g},{path:"loadform/:formname",loadChildren:()=>Promise.resolve().then(i.bind(i,1875)).then(r=>r.CompBuilderModule)},{path:"customer",loadChildren:()=>i.e(138).then(i.bind(i,138)).then(r=>r.CustomerModule)}]}];let x=(()=>{class r{}return r.components=[y.M,g],r.\u0275fac=function(f){return new(f||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[l.Bz.forChild(u),l.Bz]}),r})();var F=i(6895),Z=i(9814),T=i(4859),M=i(4850),A=i(7392),J=i(8255),N=i(3683);let Y=(()=>{class r{}return r.\u0275fac=function(f){return new(f||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[F.ez,T.ot,M.t,A.Ps,J.Tx,N.g0,Z.o9]}),r})(),O=(()=>{class r{}return r.\u0275fac=function(f){return new(f||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[o.m,Y,x,h.CompBuilderModule]}),r})()}}]);